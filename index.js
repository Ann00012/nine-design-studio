import{A as L,S as v,N as w,P as E}from"./assets/vendor-G5da-cb8.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".burger-btn"),t=document.querySelector(".mobile-menu"),o=document.querySelector(".mobile-close-btn"),c=document.querySelectorAll(".nav-link, .mobile-nav-link, .btn-buy, .mobile-buy"),r=document.querySelector(".logo"),n=document.querySelector(".furniture-grid");let i=document.querySelector(".loader");i||(i=document.createElement("div"),i.className="loader",i.innerHTML=`<div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
                          font-size:24px;color:#6b0609;">Завантаження...</div>`,document.body.appendChild(i));const f=()=>i.style.display="block",h=()=>i.style.display="none",m=s=>{iziToast.error({title:"Помилка",message:s,position:"topRight",timeout:3e3})},g=()=>{!t||!e||!o||(t.classList.add("is-open"),t.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",e.setAttribute("aria-expanded","true"),e.style.display="none",o.style.display="block",o.focus())},u=()=>{!t||!e||!o||(t.classList.remove("is-open"),t.setAttribute("aria-hidden","true"),document.body.style.overflow="",e.setAttribute("aria-expanded","false"),e.style.display="",o.style.display="none",e.focus())};e&&e.addEventListener("click",g),o&&o.addEventListener("click",u),document.addEventListener("keydown",s=>{s.key==="Escape"&&t&&t.classList.contains("is-open")&&u()}),document.addEventListener("click",s=>{t&&t.classList.contains("is-open")&&!t.contains(s.target)&&!e.contains(s.target)&&u()});let y=null;c.forEach(s=>{s.addEventListener("click",async b=>{const p=s.getAttribute("href");if(t&&t.classList.contains("is-open")&&u(),p&&p.startsWith("#")){b.preventDefault();const a=document.querySelector(p);if(a){const d=a.getBoundingClientRect().top+window.pageYOffset+-70;window.scrollTo({top:d,behavior:"smooth"})}}if(p==="#furniture"&&n){f();try{let a;if(y)a=y;else{const l=await fetch("https://furniture-store-v2.b.goit.study/api/furniture");if(!l.ok)throw new Error("Помилка завантаження меблів");a=await l.json(),y=a}n.innerHTML="",a.forEach(l=>{const d=document.createElement("div");d.className="furniture-card",d.innerHTML=`
              <img src="${l.image}" alt="${l.name}">
              <h3>${l.name}</h3>
              <p>${l.description}</p>
            `,n.appendChild(d)})}catch(a){m(a.message)}finally{h()}}})}),r&&r.addEventListener("click",s=>{s.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),t&&t.classList.contains("is-open")&&u()})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".footer-logo"),t=document.querySelectorAll(".footer-link"),o=document.querySelectorAll(".footer-socials a"),c=document.querySelector(".footer-copyright");if(t.forEach(r=>{r.addEventListener("click",n=>{const i=r.getAttribute("href");if(i&&i.startsWith("#")){n.preventDefault();const f=document.querySelector(i);if(f){const m=f.getBoundingClientRect().top+window.pageYOffset+-70;window.scrollTo({top:m,behavior:"smooth"})}}})}),e&&e.addEventListener("click",r=>{window.location.href="./index.html"}),o.forEach(r=>{r.setAttribute("target","_blank"),r.setAttribute("rel","noopener noreferrer")}),c){const r=new Date().getFullYear();c.textContent=`© ${r} Меблерія. Всі права захищені`}});new L(".accordion-container",{duration:500,ariaEnabled:!0,collapse:!0,elementClass:"ac"});const S="https://furniture-store-v2.b.goit.study/api/furnitures",A=document.querySelector(".our-furniture-product-list");let q=1;const k=8;async function O(e,t){const o=await fetch(`${S}?page=${e}&limit=${t}`);if(!o.ok)throw new Error("Failed to fetch furniture list");return await o.json()}function $(e){const t=document.createElement("li");return t.className="our-furniture-product-list-card",t.innerHTML=`
        <img src="${e.images[0]}" alt="${e.name}" class="our-furniture-card-image"/>
        <h3 class="our-furniture-card-title">${e.name}</h3>
        <ul class="our-furniture-card-color-list">
            ${e.color.map(o=>`<li class="our-furniture-card-color" style="background-color: ${o};"></li>`).join("")}
          </ul>    
        <p class="our-furniture-card-price">${e.price} грн</p>
        <button class="our-furniture-card-button">Детальніше</button>
    `,t}function C(e,t){t.innerHTML="",e.furnitures.forEach(o=>{const c=$(o);t.appendChild(c)})}function T(){try{O(q,k).then(e=>{C(e,A)}).catch(e=>{console.error("Error loading furniture list:",e),iziToast.error({title:"Error",message:"Failed to load furniture list. Please try again later."})})}catch(e){console.error("Unexpected error:",e)}}new v(".swiper",{modules:[w,E],navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}});T();
//# sourceMappingURL=index.js.map
